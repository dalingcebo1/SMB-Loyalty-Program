########################################
# Backend .env example (sanitized - do not commit real secrets)
########################################

# Environment
ENVIRONMENT=development

# Database (pick one; leave others commented)
# SQLite quick start:
DATABASE_URL=sqlite:///./dev.db
# Local Postgres (after starting docker-compose.local-db.yml):
# DATABASE_URL=postgresql+psycopg2://postgres:postgres@localhost:5433/loyalty_local
# Remote / staging Postgres (example):
# DATABASE_URL=postgresql+psycopg2://USER:PASS@HOST:5432/loyalty_db?sslmode=require

# Core secrets (replace with strong values for non-local envs)
JWT_SECRET=CHANGE_ME_JWT_32_BYTES_MIN
RESET_SECRET=CHANGE_ME_RESET_32_BYTES_MIN
SECRET_KEY=CHANGE_ME_APP_SECRET_32_BYTES_MIN

# CORS / Frontend URL
ALLOWED_ORIGINS=http://localhost:5173
# Optional: Regex alternative to ALLOWED_ORIGINS. If set, backend will accept origins matching this pattern.
# Example (Linux shell quoting):
# ALLOWED_ORIGIN_REGEX='^https://([a-z0-9-]+\.)?chaosx\.co\.za$'
FRONTEND_URL=http://localhost:5173
STATIC_DIR=static

# Optional integrations
YOCO_SECRET_KEY=
YOCO_WEBHOOK_SECRET=
SENDGRID_API_KEY=
RESET_EMAIL_FROM=no-reply@example.com

# Rate limits (baseline defaults)
RATE_LIMIT_PUBLIC_META_CAPACITY=60
RATE_LIMIT_PUBLIC_META_WINDOW=60
RATE_LIMIT_USER_TENANT_CAPACITY=30
RATE_LIMIT_USER_TENANT_WINDOW=60
RATE_LIMIT_GLOBAL_CAPACITY=120
RATE_LIMIT_GLOBAL_WINDOW=60
ENABLE_RATE_LIMIT_OVERRIDES=true
ENABLE_RATE_LIMIT_PENALTIES=true

# Feature flags
ENABLE_DEV_DANGEROUS=true
ENABLE_DEV_JOBS=false
ENABLE_DEV_RATE_LIMITS=true
ENABLE_DEV_AUDIT_VIEW=true

# Tenant bootstrap
DEFAULT_TENANT=default

# Firebase (optional)
GOOGLE_APPLICATION_CREDENTIALS=

# Observability / security (optional)
SENTRY_DSN=
CSP_POLICY=
